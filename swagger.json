{"openapi":"3.0.0","paths":{"/":{"get":{"operationId":"AppController_getHello","parameters":[],"responses":{"200":{"description":""}}}},"/user":{"post":{"operationId":"UserController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserDto"}}}},"responses":{"default":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"tags":["user"]},"get":{"operationId":"UserController_findAll","parameters":[],"responses":{"default":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/User"}}}}}},"tags":["user"]}},"/user/{id}":{"get":{"operationId":"UserController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"default":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"tags":["user"]},"patch":{"operationId":"UserController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserDto"}}}},"responses":{"default":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"tags":["user"]},"delete":{"operationId":"UserController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"default":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteResult"}}}}},"tags":["user"]}},"/auth/register":{"post":{"operationId":"AuthController_register","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterDTO"}}}},"responses":{"201":{"description":""}},"tags":["auth"]}},"/auth/login":{"post":{"operationId":"AuthController_login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDTO"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponse"}}}}},"tags":["auth"]}},"/auth/profile":{"get":{"operationId":"AuthController_profile","parameters":[],"responses":{"200":{"description":""}},"tags":["auth"]}},"/auth/change-password":{"post":{"operationId":"AuthController_changePassword","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePasswordDTO"}}}},"responses":{"201":{"description":""}},"tags":["auth"]}},"/estimate":{"post":{"operationId":"EstimateController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateEstimateDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Estimate"}}}}},"tags":["estimate"]},"get":{"operationId":"EstimateController_findAll","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Estimate"}}}}}},"tags":["estimate"]}},"/estimate/{id}":{"get":{"operationId":"EstimateController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Estimate"}}}}},"tags":["estimate"]},"patch":{"operationId":"EstimateController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateEstimateDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Estimate"}}}}},"tags":["estimate"]},"delete":{"operationId":"EstimateController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["estimate"]}},"/company":{"post":{"operationId":"CompanyController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCompanyDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Company"}}}}},"tags":["company"]},"get":{"operationId":"CompanyController_findAll","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Company"}}}}}},"tags":["company"]}},"/company/{id}":{"get":{"operationId":"CompanyController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Company"}}}}},"tags":["company"]},"patch":{"operationId":"CompanyController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCompanyDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Company"}}}}},"tags":["company"]},"delete":{"operationId":"CompanyController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["company"]}},"/customer":{"post":{"operationId":"CustomerController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCustomerDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Customer"}}}}},"tags":["customer"]},"get":{"operationId":"CustomerController_findAll","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Customer"}}}}}},"tags":["customer"]}},"/customer/{id}":{"get":{"operationId":"CustomerController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Customer"}}}}},"tags":["customer"]},"patch":{"operationId":"CustomerController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCustomerDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Customer"}}}}},"tags":["customer"]},"delete":{"operationId":"CustomerController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["customer"]}}},"info":{"title":"NestJS API","description":"desc","version":"1.0","contact":{}},"tags":[],"servers":[{"url":"http://localhost:3000"}],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"CreateUserDto":{"type":"object","properties":{"id":{"type":"number"},"email":{"type":"string"},"password":{"type":"string"},"Company":{"type":"number"},"customers":{"type":"array","items":{"type":"string"}}},"required":["id","email","password","Company","customers"]},"User":{"type":"object","properties":{"id":{"type":"number"},"email":{"type":"string"},"password":{"type":"string"},"Company":{"type":"number"},"customers":{"type":"array","items":{"type":"string"}}},"required":["id","email","password","Company","customers"]},"UpdateUserDto":{"type":"object","properties":{}},"DeleteResult":{"type":"object","properties":{}},"RegisterDTO":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}},"required":["email","password"]},"LoginDTO":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}}},"LoginResponse":{"type":"object","properties":{"access_token":{"type":"string"}},"required":["access_token"]},"ChangePasswordDTO":{"type":"object","properties":{"oldpassword":{"type":"string"},"newpassword":{"type":"string"},"confirmpassword":{"type":"string"}},"required":["oldpassword","newpassword","confirmpassword"]},"EstimateStatus":{"type":"string","enum":["draft","sent","accepted","declined","cancelled","changes_requested","expired"]},"Estimate":{"type":"object","properties":{"id":{"type":"number"},"customer":{"type":"number"},"billingAddress":{"type":"number"},"shippingAddress":{"type":"number"},"items":{"type":"array","items":{"$ref":"#/components/schemas/EstimateFields"}},"title":{"type":"string"},"description":{"type":"string"},"date":{"format":"date-time","type":"string"},"dueDate":{"format":"date-time","type":"string"},"terms":{"type":"string"},"notes":{"type":"string"},"tax":{"type":"number"},"globalDiscount":{"type":"number"},"owner":{"type":"number"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"status":{"$ref":"#/components/schemas/EstimateStatus"}},"required":["id","customer","billingAddress","shippingAddress","items","title","description","date","dueDate","terms","notes","tax","globalDiscount","owner","createdAt","updatedAt","status"]},"EstimateFields":{"type":"object","properties":{"id":{"type":"number"},"estimate":{"$ref":"#/components/schemas/Estimate"},"title":{"type":"string"},"description":{"type":"string"},"quantity":{"type":"number"},"unitPrice":{"type":"number"},"discount":{"type":"number"},"tax":{"type":"number"}},"required":["id","estimate","title","description","quantity","unitPrice","discount","tax"]},"CreateEstimateDto":{"type":"object","properties":{"id":{"type":"number"},"customer":{"type":"number"},"billingAddress":{"type":"number"},"shippingAddress":{"type":"number"},"items":{"type":"array","items":{"$ref":"#/components/schemas/EstimateFields"}},"title":{"type":"string"},"description":{"type":"string"},"date":{"format":"date-time","type":"string"},"dueDate":{"format":"date-time","type":"string"},"terms":{"type":"string"},"notes":{"type":"string"},"tax":{"type":"number"},"globalDiscount":{"type":"number"},"owner":{"type":"number"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"status":{"$ref":"#/components/schemas/EstimateStatus"}},"required":["id","customer","billingAddress","shippingAddress","items","title","description","date","dueDate","terms","notes","tax","globalDiscount","owner","createdAt","updatedAt","status"]},"UpdateEstimateDto":{"type":"object","properties":{"id":{"type":"number"},"customer":{"type":"number"},"billingAddress":{"type":"number"},"shippingAddress":{"type":"number"},"items":{"type":"array","items":{"$ref":"#/components/schemas/EstimateFields"}},"title":{"type":"string"},"description":{"type":"string"},"date":{"format":"date-time","type":"string"},"dueDate":{"format":"date-time","type":"string"},"terms":{"type":"string"},"notes":{"type":"string"},"tax":{"type":"number"},"globalDiscount":{"type":"number"},"owner":{"type":"number"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"status":{"$ref":"#/components/schemas/EstimateStatus"}}},"LegalForm":{"type":"string","enum":["AE","SARL","SAS","SASU","EURL","EI","EIRL"]},"CreateCompanyDto":{"type":"object","properties":{"id":{"type":"number"},"legalname":{"type":"string"},"taxid":{"type":"string"},"address":{"type":"string"},"city":{"type":"string"},"state":{"type":"string"},"zip":{"type":"string"},"siret":{"type":"string"},"ape":{"type":"string"},"legalform":{"$ref":"#/components/schemas/LegalForm"},"website":{"type":"string"},"logo":{"type":"string"},"description":{"type":"string"},"industry":{"type":"string"}},"required":["id","legalname","taxid","address","city","state","zip","siret","ape","legalform","website","logo","description","industry"]},"Company":{"type":"object","properties":{"id":{"type":"number"},"legalname":{"type":"string"},"taxid":{"type":"string"},"address":{"type":"string"},"city":{"type":"string"},"state":{"type":"string"},"zip":{"type":"string"},"siret":{"type":"string"},"ape":{"type":"string"},"legalform":{"$ref":"#/components/schemas/LegalForm"},"website":{"type":"string"},"logo":{"type":"string"},"description":{"type":"string"},"industry":{"type":"string"}},"required":["id","legalname","taxid","address","city","state","zip","siret","ape","legalform","website","logo","description","industry"]},"UpdateCompanyDto":{"type":"object","properties":{"id":{"type":"number"},"legalname":{"type":"string"},"taxid":{"type":"string"},"address":{"type":"string"},"city":{"type":"string"},"state":{"type":"string"},"zip":{"type":"string"},"siret":{"type":"string"},"ape":{"type":"string"},"legalform":{"$ref":"#/components/schemas/LegalForm"},"website":{"type":"string"},"logo":{"type":"string"},"description":{"type":"string"},"industry":{"type":"string"}}},"CreateCustomerDto":{"type":"object","properties":{"id":{"type":"number","readOnly":true},"firstname":{"type":"string"},"lastname":{"type":"string"},"phone":{"type":"string"},"email":{"type":"string"},"company":{"type":"number","nullable":true}},"required":["id","firstname","lastname","phone","email","company"]},"Customer":{"type":"object","properties":{"id":{"type":"number","readOnly":true},"firstname":{"type":"string"},"lastname":{"type":"string"},"phone":{"type":"string"},"email":{"type":"string"},"company":{"type":"number","nullable":true}},"required":["id","firstname","lastname","phone","email","company"]},"UpdateCustomerDto":{"type":"object","properties":{"id":{"type":"number","readOnly":true},"firstname":{"type":"string"},"lastname":{"type":"string"},"phone":{"type":"string"},"email":{"type":"string"},"company":{"type":"number","nullable":true}}}}}}